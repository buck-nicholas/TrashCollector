@model TrashCollectorWebApp.Models.Customer

@{
    ViewBag.Title = "CustomerLocations";
}

<h2>Customer Locations</h2>

@using (Html.BeginForm())
{
<p>
    Find by name: @Html.DropDownList("selectedID", (IEnumerable<SelectListItem>)ViewData["CustList"])
    <input type="submit" value="Search" />
</p>
}

@*<iframe width="450"
    height="250"
    frameborder="0" style="border:0"
    src="https://www.google.com/maps/embed/v1/place?key=@ViewBag.Key&q=@ViewBag.Address" allowfullscreen></iframe>*@

<fieldset>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <div id="googleMap" style="height:400px;width:100%;"></div>
    <script>
        function myMap() {
            var myCenter = new google.maps.LatLng(@ViewBag.Lat, @ViewBag.Long);
            var mapProp = { center: myCenter, zoom: 12, scrollwheel: false, draggable: true, mapTypeId: google.maps.MapTypeId.ROADMAP };
            var map = new google.maps.Map(document.getElementById("googleMap"), mapProp);
            var marker = new google.maps.Marker({ position: myCenter });
            marker.setMap(map);
        }
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=@ViewBag.Key&callback=myMap"></script>
</fieldset>